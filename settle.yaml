# This is an example config file.
includes:
  - './nvim.yaml'

files:
  - src: gitconfig
    dst: ~/.gitconfig
  - src: kitty.conf
    dst: ~/.config/kitty/kitty.conf

brew:
  taps:
    - repo: homebrew/core
    - repo: homebrew/bundle
    - repo: homebrew/services
    - repo: homebrew/cask
    - repo: homebrew/cask-fonts
    - repo: homebrew/cask-versions
  pkgs:
    # core
    - name: age
    - name: bandwhich
    - name: bash
    - name: bat
    - name: coreutils
    - name: ctags
    - name: exa
    - name: fasd
    - name: fd
    - name: fish
    - name: fzf
    - name: gh
    - name: git
    - name: gnu-getopt
    - name: go
    - name: golangci/tap/golangci-lint
    - name: graphviz  # needed for pprof web
    - name: gron
    - name: htop
    - name: hub
    - name: icdiff
    - name: jless
    - name: jq
    - name: make
    - name: moreutils
    - name: ncdu
    - name: neovim
    - name: node
    - name: openssl
    - name: pandoc
    - name: postgresql
    - name: postgresql@11
    - name: pre-commit
    - name: python
    - name: python-yq
    - name: ranger
    - name: rename
    - name: ripgrep
    - name: rsync
    - name: ruby
    - name: shellcheck
    - name: shfmt
    - name: skopeo
    - name: speedtest-cli
    - name: svn
    - name: terraform
    - name: the_silver_searcher
    - name: tealdeer
    - name: tmux
    - name: tree
    - name: unrar
    - name: vim
    - name: watch
    - name: wget
    - name: xh
    - name: xsv
    - name: yamllint
    - name: zsh
  casks:
    - alfred
    - appcleaner
    - calibre
    - discord
    - docker
    - dotnet
    - font-source-code-pro
    - font-source-code-pro-for-powerline
    - kitty
    - numi
    - plex
    - postman
    - rectangle
    - signal
    - slack
    - spotify
    - stats
    - steam
    - the-unarchiver
    - vlc

zsh:
  zinit:
    - ice pick=async.zsh src=pure.zsh
    - light sindresorhus/pure
    - light zdharma-continuum/fast-syntax-highlighting
    - snippet OMZ::plugins/fasd/fasd.plugin.zsh
    - snippet OMZ::plugins/fzf/fzf.plugin.zsh
  history:
    size: 50000
    share_history: true
    inc_append: true
    ignore_all_dups: true
    ignore_space: true
  variables:
    - {name: DOTFILES, value: "$HOME/src/danielmmetz/dotfiles"}
    - {name: EDITOR, value: "nvim"}
    - {name: PATH, value: "$PATH:$HOME/go/bin:$HOME/bin"}
    - {name: HOMEBREW_NO_AUTO_UPDATE, value: "1"}
  aliases:
    - {name: cat, value: "bat"}
    - {name: jl, value: "jless"}
    - {name: la, value: "ls -la"}
    - {name: ll, value: "ls -l"}
    - {name: ls, value: "exa"}
    - {name: vi, value: "nvim"}
    - {name: vim, value: "nvim"}
    - {name: vimrc, value: "nvim $DOTFILES/nvim.yaml"}
    - {name: zshrc, value: "nvim $DOTFILES/settle.yaml"}
  extra_prefix: |
    if [[ ! -f $HOME/.zinit/bin/zinit.zsh ]]; then
        echo "Installing DHARMA Initiative Plugin Manager (zdharma-continuum/zinit)â€¦"
        mkdir -p "$HOME/.zinit" && chmod g-rwX "$HOME/.zinit"
        git clone https://github.com/zdharma-continuum/zinit "$HOME/.zinit/bin" && \
            echo "Installation successful" || \
            echo "The clone has failed."
    fi

    source "$HOME/.zinit/bin/zinit.zsh"
    autoload -Uz _zinit
    (( ${+_comps} )) && _comps[zinit]=_zinit
  extra_suffix: |
    _direnv_hook() {
    trap -- '' SIGINT;
      eval "$("/usr/local/bin/direnv" export zsh)";
      trap - SIGINT;
    }
    typeset -ag precmd_functions;
    if [[ -z ${precmd_functions[(r)_direnv_hook]} ]]; then
      precmd_functions=( _direnv_hook ${precmd_functions[@]} )
    fi
    typeset -ag chpwd_functions;
    if [[ -z ${chpwd_functions[(r)_direnv_hook]} ]]; then
      chpwd_functions=( _direnv_hook ${chpwd_functions[@]} )
    fi
